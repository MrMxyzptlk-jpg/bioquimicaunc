<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bioquimicaunc/Anunciate!</title>
    <link rel="icon" href="./assets/tab-logo.png" type="image/tab-icon">
    <link rel="stylesheet" href="./css/styles.css">
    <link  rel="stylesheet"  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-..."  crossorigin="anonymous"   referrerpolicy="no-referrer"/>
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="./js/menu.js"></script>
    <script src="./js/footer.js"></script>

</head>
<body>

    <main class="layout-grid">

        <section class="description-div">
            <p>
                En esta sección, profesores particulares y academias pueden promocionar sus servicios comunicandose a <a href="mailto:uncbioquimica@gmail.com" target="_blank" style="color: white;">uncbioquimica@gmail.com</a>
            </p>
            <p>
                Los estudiantes que hayan tomado clases podrán dejar comentarios y calificaciones para compartir su experiencia y ayudar a otros a elegir.
            </p>

        </section>

        <div class="subjects">
            <button class="subject-btn"
                hx-get="/listings/fragments?category=Particulares"
                hx-target="#listings-posts"
                hx-swap="innerHTML"
                onclick="setCategory('Particulares')"> Particulares </button>
            <button class="subject-btn"
                hx-get="/listings/fragments?category=Academias"
                hx-target="#listings-posts"
                hx-swap="innerHTML"
                onclick="setCategory('Academias')"> Academias </button>
            <button class="subject-btn"
                hx-get="/listings/fragments?category=Ventas"
                hx-target="#listings-posts"
                hx-swap="innerHTML"
                onclick="setCategory('Ventas')"> Ventas </button>
        </div>

        <div id="listingForm" class="forum-form"
            hx-get="/listings/admin/form"
            hx-trigger="load"
            hx-swap="outerHTML">
        </div>

        <div id="listings-posts" class="listings-section">
            <div class="signal"> Selecciona una categoría. </div>
        </div>

    </main>

    <script>
        function setCategory(cat) {
            const input = document.getElementById('categoryInput');
            if (input) {
                input.value = cat;
            } else {
                console.log('Category input not found (User might not be admin)');}
        }
    </script>
    <script> loadHeader("Anunciate!"); loadFooter();</script>
    <script>
        document.body.addEventListener('htmx:afterSwap', function (evt) {
            if (evt.target.id === 'listings-posts') {
                const first = evt.target.querySelector('.listing');
                if (first) {
                    first.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        });
    </script>
</body>
</html>
